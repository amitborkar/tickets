<% title "订单列表" %>

<div id="search">
  <%= simple_form_for @search, :url => spot_reservations_path do |f| %>
      <fieldset class="inputs">
        <%= f.input :no_contains, :label => "订单号", :required => false %>
        <%= f.input :ticket_name_contains, :label => "门票种类", :required => false %>
        <%= f.input :agent_name_contains, :label => "旅行社名称", :required => false %>
        <%= f.input :date_greater_than_or_equal_to, :label => "入园起始日期", :required => false, :input_html => {:class =>'reservation_datepicker'} %>
        <%= f.input :date_less_than_or_equal_to, :label => "入园结束日期", :required => false, :input_html => {:class =>'reservation_datepicker'} %>
        <%= f.input :created_at_greater_than_or_equal_to, :label => "预定起始日期", :required => false, :input_html => {:class =>'reservation_datepicker'} %>
        <%= f.input :created_at_less_than_or_equal_to, :label => "预定结束日期", :required => false, :input_html => {:class =>'reservation_datepicker'} %>
        <%= f.input :contact_contains, :label => "联系人", :required => false %>
        <%= f.input :phone_contains, :label => "联系电话", :required => false %>
        <%= f.input :with_status, :collection => [["", "全部"], ["confirmed", "已确认"], ["canceled", "已取消"], ["checkedin", "已入园"], ["outdated", "已过期"]],
                    :label_method => :last, :value_method => :first,
                    :as => :select, :label => "状态", :required => false, :include_blank => false %>
        <%= f.input :paid_eq, :collection => [["", "全部"], [true, "已结算"], [false, "未结算"]],
                    :label_method => :last, :value_method => :first,
                    :as => :select, :label => "结算状态", :required => false, :include_blank => false %>
      </fieldset>
      <fieldset class="buttons">
        <%= f.button :submit, :value => "查询" %>
      </fieldset>
  <% end %>
</div>

共找到<%= @reservations.total_count %>条记录
<%= paginate @reservations %>
<%= render :partial => 'reservations_table',:locals => {:reservations => @reservations} %>
